function Rebind(n){var i=n.constructor.prototype,t,r;for(t in i)n.hasOwnProperty(t)||typeof i[t]!="function"||(r=i[t],n[t]=r.bind(n))}var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},InTheBoks;(function(n){(function(t){var p=function(){function t(){var t=this;Rebind(this),this.Catalogs=new o,this.Items=new e,this.Friends=new f,this.Activities=new u,this.User=ko.observable(),this.States={Initializing:0,Authenticated:1,Anonymous:2},this.Languages=ko.observableArray([{key:"auto",value:"Auto-detect"},{key:"en-US",value:"English"},{key:"nb-NO",value:"Norwegian"}]),this.Auth=new n.Facebook,this.Login=function(){t.Auth.Login()},this.Logout=function(){t.Auth.Logout()}}return t.prototype.Load=function(){var n=this;n.Catalogs.Load()},t.prototype.LoadUser=function(){var t=new n.ServiceClient("User");t.Execute(function(n){console.log(n);var t=ko.mapping.fromJS(n);console.log(t)})},t.prototype.ToggleFriends=function(){if($("#friends").width()==0){var n=$("#left-sidebar").width();$("#main-content").width($(window).width()-(n+190))}},t}(),s,h,i,u,f,e,o,r,c,l,a,v,y;t.MainViewModel=p,s=function(){function n(){var n=this;n.SearchTerm=ko.observable()}return n}(),t.SearchViewModel=s,h=function(){function n(){var n=this;n.TimeZones=ko.observableArray()}return n}(),t.SettingsViewModel=h,i=function(){function n(){Rebind(this);var n=this;n.Items=ko.observableArray(),n.Selected=ko.observableArray(),n.SingleSelect=ko.observable(),n.SelectedFirst=ko.computed(function(){return n.Selected().length>0?n.Selected()[0]:null})}return n.prototype.Add=function(n){this.Items.push(n)},n.prototype.Remove=function(n){this.Items.remove(n)},n.prototype.Select=function(n){this.SingleSelect()&&this.Selected.removeAll(),this.Selected.push(n)},n}(),t.CollectionModelBase=i,u=function(n){function t(){n.call(this)}return __extends(t,n),t}(i),t.ActivitiesViewModel=u,f=function(n){function t(){n.call(this)}return __extends(t,n),t}(i),t.FriendsViewModel=f,e=function(n){function t(){n.call(this)}return __extends(t,n),t}(i),t.ItemsViewModel=e,o=function(t){function i(){t.call(this),this.service=new n.ServiceClient("Catalogs"),this.storage=new n.Storage("Catalogs"),Rebind(this);var i=this;i.SingleSelect(!0)}return __extends(i,t),i.prototype.Load=function(){var n=this;n.storage.Supported&&console.log("Reading from local storage..."),n.service.Execute(function(t){var i,u;ko.mapping.fromJS(t,{},n.Items),n.Items().length>0&&n.Select(n.Items()[0]);var f=ko.toJS(n.Items()),r=JSON.stringify(f),e=JSON.parse(r);localStorage.setItem("Catalogs",r),localStorage.setItem("1|3|timestamp","ThisIsAnItem"),localStorage.setItem("1|4|timestamp","ThisIsAnItem #2"),localStorage.setItem("2|3|timestamp","ThisIsAnItem #2");for(i in window.localStorage)u=localStorage.getItem(i),console.log(i),console.log(u)})},i.prototype.Save=function(){},i}(i),t.CatalogsViewModel=o,r=function(){function n(){var n=this;n.Id=ko.observable(),n.Name=ko.observable(),n.Created=ko.observable(),n.Modified=ko.observable()}return n.prototype.update=function(){},n}(),t.ModelBase=r,c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.defaults=function(){this.Name("New catalog")},t}(r),t.Catalog=c,l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(r),t.Item=l,a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(r),t.User=a,v=function(){function n(n,t){var i=this;i.Name=n,i.Id=t}return n}(),t.Activity=v,y=function(){function n(n){this.id=n}return n}(),t.Friend=y})(n.ViewModels||(n.ViewModels={}));var t=n.ViewModels})(InTheBoks||(InTheBoks={}))